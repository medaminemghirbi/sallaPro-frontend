<div class="container d-flex justify-content-center align-items-center vh-100 bg-light">
  <div class="card shadow-lg p-5 rounded-4" style="max-width: 540px; width: 100%;">
    <div class="card-body text-center">

      <div class="mb-4">
        <i class="bi bi-shield-check text-primary fs-1"></i>
      </div>

      <h2 class="card-title mb-3 fw-bold text-primary">Doctor Verification</h2>

      <!-- Alert about access restriction -->
      <div class="alert alert-warning text-center fw-semibold fs-6" role="alert">
        <i class="bi bi-exclamation-triangle-fill me-2"></i>
        You cannot access the full platform until you verify your identity as a doctor.
      </div>

      <!-- If profile is pending verification -->
      <div *ngIf="pendingVerification; else uploadForm" class="mb-4">
        <p class="text-muted mb-3 fs-5">
          <i class="bi bi-clock-history fs-3 d-block mb-2 text-warning"></i>
          We are verifying your profile. Weâ€™ll get back to you as soon as possible.
        </p>

        <div *ngIf="doctordata.verification_pdf_url" class="mt-3">
          <a [href]="doctordata.verification_pdf_url" target="_blank" class="btn btn-outline-primary btn-sm shadow-sm">
            <i class="bi bi-file-earmark-pdf me-1"></i> View Uploaded Document
          </a>
        </div>
      </div>

      <!-- Upload form -->
      <ng-template #uploadForm>
        <p class="text-muted mb-4 fs-5">Please upload your verification document to complete your profile.</p>

        <div class="mb-4">
          <input type="file" 
                 class="form-control shadow-sm" 
                 (change)="onFileSelected($event)"
                 accept="image/*,application/pdf">
        </div>

        <div *ngIf="selectedFile" class="alert alert-secondary text-break py-2 small mb-4 d-flex align-items-center justify-content-center">
          <i class="bi bi-file-earmark-text text-danger fs-5 me-2"></i>
          <span>{{ selectedFile.name }}</span>
        </div>

        <button class="btn btn-primary w-100 fw-semibold shadow-sm fs-5" 
                [disabled]="!selectedFile || loading"
                (click)="uploadPdf()">
          <i class="bi bi-upload me-2 fs-5"></i> {{ loading ? 'Uploading...' : 'Upload Document' }}
        </button>

        <div *ngIf="message" class="alert mt-4 mb-0 small" 
             [ngClass]="{'alert-success': success, 'alert-danger': !success}">
          {{ message }}
        </div>

        <div *ngIf="redirectMessage" class="alert alert-info mt-3 small">
          You will be redirected to the login page shortly...
        </div>
      </ng-template>

    </div>


                <div class="logout-btn">
                <a href="#" (click)="logout(); $event.preventDefault();">
                    <span class="menu-side">
                        <img src="../../../assets/img/icons/logout-svgrepo-com.svg" alt="Logout Icon">
                    </span>
                    <span> <span>{{ 'Doctor_sidebar.logout' | translate }}</span>
                    </span>
                </a>
            </div>
  </div>
</div>
